<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>

    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="Description" content="Digiturk - Şifre Yenileme"/>
    <meta name="Keywords" content="Keas, şifre, şifre yenileme"/>
    <meta name="robots" content="noindex, nofollow"/>
    <meta name="author" content="Keas, info@keas.com.tr"/>


    <title>#{d1.getTextDb('renewpassword.browsertitle')}  - Keas</title>

    <link rel="icon" href="#{request.contextPath}/resources/images/favicon2.png"/>

    <link rel="canonical" href="#{rs.getTemplateData('websiteadress')}" />

    <link href="#{request.contextPath}/resources/css/tailwind/tailwind.min.css" rel="stylesheet"/>

    <script src="#{request.contextPath}/resources/js/eu_cookie_banner.js"></script>

    <link href="#{request.contextPath}/resources/css/tailwind/eu_cookie_banner.css" rel="stylesheet"/>

    <script src="#{request.contextPath}/resources/js/browser_tab_title_change.js"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-M74LESCS3T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-W5JHCTGPFC');
    </script>

</h:head>

<h:body styleClass="login-body">

    <ui:include src="/WEB-INF/landing_topbar.xhtml"/>



    <section class=" justify-center items-center">
        <div class="overflow-hidden">
            <div class="absolute inset-0 w-full h-full bg-gradient-to-r from-purple-900 to-purple-800 opacity-90"></div>
        </div>
        <div class="table w-full h-full">
            <div class="table-cell align-middle">
                <div class="container">
                    <div class="lg:flex justify-center">
                        <div class="lg:w-5/12 relative">
                            <div class="card bg-white">
                                <div class="p-7">
                                    <div class="text-center mt-3">
                                        <h3 class="font-bold mb-2"><a href="#{request.contextPath}"
                                                                      class="text-black uppercase tracking-widest">YEMEKHANE</a>
                                        </h3>
                                        <p class="text-gray-400 mb-4">#{d1.getTextDb('index.hello')}</p>
                                    </div>
                                    <div>
                                        <h:form id="renewPasswordForm">
                                            <h:outputLabel value="#{d1.getTextDb('login.wrongmailorpassword')}"
                                                           rendered="#{!empty sessionScope['SPRING_SECURITY_LAST_EXCEPTION'].message}"
                                                           style="margin-left: 5px;margin-bottom: 5px;color: #ff0000"/>
                                            <div class="mb-6">
                                                <label class="block mb-2 text-sm font-bold text-gray-700" for="newPassword">
                                                    Yeni Şifre
                                                </label>

                                                <p:password required="true" requiredMessage="Lütfen yeni şifrenizi giriniz."
                                                            value="#{forgetPasswordView.newPassword}"
                                                            type="password" id="newPassword" name="newPassword"
                                                            placeholder="Yeni Şifrenizi giriniz..."
                                                            class="w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline">

                                                </p:password>

                                            </div>
                                            <div class="mb-6">
                                                <label for="newPasswordRepeat"
                                                       class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">#{d1.getTextDb('login.password')}</label>
                                                <p:password required="true" requiredMessage="Lütfen yeni şifrenizi tekrar giriniz."
                                                            value="#{forgetPasswordView.newPasswordRepeat}"
                                                            type="password" id="newPasswordRepeat" name="newPasswordRepeat"
                                                            placeholder="Yeni Şifrenizi giriniz..."
                                                            class="w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline">

                                                </p:password>
                                            </div>

                                            <p:commandButton value="Gönder" process="@form"
                                                             class="w-full px-6  font-bold text-white bg-red-500 rounded-full hover:bg-red-700 focus:outline-none focus:shadow-outline"
                                                             action="#{forgetPasswordView.renewPassword()}"
                                                             update="renewPasswordForm messageForm:growl"/>

                                        </h:form>

                                    </div>
                                </div>
                            </div>
                            <!-- end card -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>



    <ui:include src="/WEB-INF/landing_footer.xhtml"/>

</h:body>

</html>